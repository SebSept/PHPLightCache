<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>PHP SimpleFileCache by SebSept</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>PHP SimpleFileCache</h1>
        <h2>Simple Files PHP Cache</h2>
        <a href="https://github.com/SebSept/SimpleFileCache" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="php-simplefilecache" class="anchor" href="#php-simplefilecache"><span class="octicon octicon-link"></span></a>PHP SimpleFileCache</h1>

<p>This is a light weight file cache component for php. </p>

<h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<ul>
<li>Lightweight (~8Kb)</li>
<li>Simple to use (see API)</li>
<li>100% Unit tested</li>
<li>Optionnaly define expiration delay when retrieving content ( not when creating the cache )</li>
</ul><h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<h2>
<a name="basic" class="anchor" href="#basic"><span class="octicon octicon-link"></span></a>Basic</h2>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="c1">// include file (using composer)</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'vendor/autoload.php'</span><span class="p">);</span>

<span class="c1">// create an instance setting expiration delay (2 hours) and cache dir</span>
<span class="nv">$cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\SebSept\SimpleFileCache\Cache</span><span class="p">(</span>
<span class="k">array</span><span class="p">(</span>
    <span class="s1">'directoryPath'</span> <span class="o">=&gt;</span> <span class="s1">'/tmp/cacheFS'</span><span class="p">,</span>
    <span class="s1">'delay'</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span>
<span class="p">)</span>
<span class="p">);</span>

<span class="c1">// create a cache</span>
<span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">'theCacheId'</span><span class="p">,</span> <span class="s1">'This is some cached content, string'</span><span class="p">);</span>

<span class="c1">// get cached content</span>
<span class="nv">$content</span> <span class="o">=</span> <span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'theCacheId'</span><span class="p">);</span>

<span class="c1">// delete a cache</span>
<span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'theCacheId'</span><span class="p">);</span>
</pre></div>

<h2>
<a name="other-methods" class="anchor" href="#other-methods"><span class="octicon octicon-link"></span></a>Other methods</h2>

<div class="highlight highlight-php"><pre><span class="c1">// check that a cache with id 'theCacheId' exists and is less than an hour</span>
<span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">exists</span><span class="p">(</span><span class="s1">'theCacheId'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'delay'</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">));</span>

<span class="c1">// full path to file on disk</span>
<span class="nv">$pathToFile</span> <span class="o">=</span> <span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">getFilePath</span><span class="p">(</span><span class="s1">'theCacheId'</span><span class="p">);</span>

<span class="c1">// path to base dir where cache files are</span>
<span class="nv">$cacheDirPath</span> <span class="o">=</span> <span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">getDirectoryPath</span><span class="p">();</span>
</pre></div>

<div class="highlight highlight-php"><pre><span class="c1">// change path depth</span>
<span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">setPathDepth</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// files will be stored in /CacheDir/1/2/3/thecachename</span>

<span class="c1">// change cache directory</span>
<span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">setDirectoryPath</span><span class="p">(</span><span class="s1">'/tmp/newdir'</span><span class="p">);</span> 
</pre></div>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<h2>
<a name="composer" class="anchor" href="#composer"><span class="octicon octicon-link"></span></a>Composer</h2>

<p>Add this to your <code>composer.json</code> :</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
    <span class="nt">"require"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"sebsept/cache"</span><span class="p">:</span> <span class="s2">"dev-master"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="git" class="anchor" href="#git"><span class="octicon octicon-link"></span></a>Git</h2>

<div class="highlight highlight-bash"><pre>git clone https://github.com/SebSept/SimpleFileCache.git
</pre></div>

<h2>
<a name="direct-download" class="anchor" href="#direct-download"><span class="octicon octicon-link"></span></a>Direct download</h2>

<ul>
<li><a href="https://github.com/SebSept/SimpleFileCache/archive/master.zip">Download .zip</a></li>
<li><a href="https://github.com/SebSept/SimpleFileCache/archive/master.tar.gz">Download .tar.gz</a></li>
</ul><h1>
<a name="history" class="anchor" href="#history"><span class="octicon octicon-link"></span></a>History</h1>

<p>This is a fork of <a href="https://github.com/Gregwar/Cache">https://github.com/Gregwar/Cache</a> . 
I found and install Gregwar/Cache from composer but found a bug :
Expiration was not respected, so took a look at the code ... then decided to recode it all.</p>

<h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>Published under <a href="./LICENSE">The MIT License (MIT)</a>.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/SebSept/SimpleFileCache/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/SebSept/SimpleFileCache/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/SebSept/SimpleFileCache"></a> is maintained by <a href="https://github.com/SebSept">SebSept</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>